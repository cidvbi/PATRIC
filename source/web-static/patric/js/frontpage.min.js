Ext.onReady(function(){if(Ext.get("newsCol1")!=null){populateNewsReader()}if(Ext.get("bacteriaCloud")!=null){populateBacteriaCloud()}});function populateBacteriaCloud(){if(cloud==null){return}cloudList=Ext.get("bacteriaCloud");for(var a=0;a<cloud.length;a++){rankClass="cloud-rank-"+cloud[a].rank;cloudList.insertHtml("beforeEnd",'<li class="'+rankClass+'"><a href="/portal/portal/patric/Taxon?cType=taxon&cId='+cloud[a].cid+'">'+cloud[a].scientific_name+"</a></li>\n")}}function populateNewsReader(){var a=new Ext.Template(['<div class="has-icon icon-{categoryCode}">','<p class="smallest bold">{eventDate}</p>','<h4 class="close"><a href="{link}">{title}</a></h4>','<p class="small">{location}</p>','<p class="small">{desc}</p>',"<hr/>","</div>"]);a.compile();var d=new Ext.Template(['<div class="has-icon icon-{categoryCode}">','<p class="smallest bold">{date}</p>','<h4 class="close"><a href="{link}">{title}</a></h4>','<p class="small">{desc}</p>',"<hr/>","</div>"]);d.compile();var b=new Ext.Template(['<div class="block has-icon icon-{categoryCode}">','<p class="small bold">{eventDate}</p>','<h3 class="close"><a href="{link}">{title}</a></h3>','<p class="small">{desc}</p>',"</div>"]);b.compile();numItems=rssData.entries.length;for(i=0;i<numItems;i++){entry=rssData.entries[i];if(entry.posttype!="feature"){var c=(i<3)?"newsSlot"+(i+1):"newsSlot3";targetSlot=Ext.get(c);if(c=="newsSlot1"||c=="newsSlot2"){newContent=b.apply(entry)}else{newContent=(entry.posttype=="event")?a.apply(entry):d.apply(entry)}targetSlot.insertHtml("beforeEnd",newContent)}else{Ext.getDom("featureImage").src=entry.image;Ext.getDom("featureCaption").innerHTML=entry.title+"<span>"+entry.subtitle+"</span>";Ext.get("feature").insertHtml("beforeEnd","<p>"+entry.desc+'</p><p class="block"><a href="'+entry.link+'" class="double-arrow-link right">More Information</a></p>')}}lastItem=Ext.select(".news:last-child",Ext.get("newsSlot3"));lastItem.addCls("last")}function submitBlast(){var a=Ext.getDom("blastKeyword").value;var b=Ext.getDom("programIndex").selectedIndex;Ext.Ajax.request({url:"/portal/portal/patric/Blast/BlasterWindow?action=b&cacheability=PAGE",method:"POST",params:{sequence:a,callType:"formStore",programIndex:b,dbIndex:(b=="0")?"0":"2",sequence:a,queryFrom:"",queryTo:"",expectIndex:"3",matParamIndex:"3",alignment:"",lowFilter:"L",midFilter:"",geneCodeIndex:"0",dbCodeIndex:"0",oofAlignIndex:"19",advanced:"",overview:"on",alignViewIndex:"0",alignmentsIndex:"2",descriptionIndex:"3",schemaIndex:"0",fileName:""},success:function(c){document.location.href="Blast?dm=submit&pk="+c.responseText}})};